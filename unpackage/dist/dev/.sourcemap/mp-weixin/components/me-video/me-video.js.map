{"version":3,"sources":["webpack:///D:/Users/Ryan/Documents/HBuilderProjects/team/components/me-video/me-video.vue?4371","webpack:///D:/Users/Ryan/Documents/HBuilderProjects/team/components/me-video/me-video.vue?15a8","webpack:///D:/Users/Ryan/Documents/HBuilderProjects/team/components/me-video/me-video.vue?7fc8","webpack:///D:/Users/Ryan/Documents/HBuilderProjects/team/components/me-video/me-video.vue?9568","uni-app:///components/me-video/me-video.vue","webpack:///D:/Users/Ryan/Documents/HBuilderProjects/team/components/me-video/me-video.vue?5ab9"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,kRACIA,EADJ,+KASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E;;;;2GCvBf,yqC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,+xBAAwuB,eAAG,G;;;;mICgB3uB,CACA,OACA,WACA,cACA,UACA,aACA,QAFA,WAGA,WAGA,UACA,aACA,QAFA,WAGA,WAGA,MACA,aACA,QAFA,WAGA,WAGA,OACA,YACA,gBAEA,QACA,YACA,iBAEA,UACA,YACA,QAFA,WAGA,YAIA,KArCA,WAsCA,OACA,0BAGA,UAEA,iBAFA,WAOA,WAIA,OACA,SADA,SACA,GACA,iBAGA,SAEA,KAFA,WAGA,kBACA,mBAGA,WAPA,WASA,oCAGA,WAZA,e;;;;2DC1EA,u3CAAy0C,eAAG,G","file":"components/me-video/me-video.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./me-video.vue?vue&type=template&id=8542de78&\"\nvar renderjs\nimport script from \"./me-video.vue?vue&type=script&lang=js&\"\nexport * from \"./me-video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./me-video.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/me-video/me-video.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me-video.vue?vue&type=template&id=8542de78&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me-video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me-video.vue?vue&type=script&lang=js&\"","<!-- 视频组件: <me-video src=\"视频地址\" poster=\"封面图\"></me-video> \r\nvideo标签在APP端是原生组件, 真机APP端下拉时会渲染不及时, 出现悬浮错位现象;\r\nme-video组件, 未播放时自动展示image封面, 播放时才显示video, 提高性能; 如果播放中执行下拉,会自动显示封面, 避免视频下拉悬浮错位;\r\n-->\r\n<template>\r\n\t<view class=\"me-video\" :style=\"{width:width, height:height}\">\r\n\t\t<!-- 播放的时候才渲染video标签 -->\r\n\t\t<video v-if=\"showVideo\" ref=\"videoRef\" class=\"video\" :class=\"{'full-play': fullplay&&!autoplay, 'mescroll-dowload': mescrollDownLoad}\" :src=\"src\" autoplay :loop=\"loop\" @click=\"videoClick\" x5-playsinline=\"true\" x5-video-player-type=\"h5\" playsinline=\"true\" webkit-playsinline=\"true\" x5-video-player-fullscreen=\"false\"></video>\r\n\t\t<!-- 播放按钮 -->\r\n\t\t<view v-else class=\"btn-play\"> <view class=\"triangle\"></view> </view>\r\n\t\t<!-- 封面 -->\r\n\t\t<image v-if=\"(!showVideo || mescrollDownLoad) && poster\" class=\"poster\" :src=\"poster\" @click=\"play()\" mode=\"aspectFit\"></image>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tsrc: String, // 视频地址\r\n\t\t\tposter: String, // 封面图\r\n\t\t\tautoplay: { // 是否自动播放\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfullplay: { // 是否全屏播放，默认不全屏\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloop: { // 是否循环播放\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn true // 循环播放可避免Android微信播放完毕显示广告\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: { // 宽度 (需带单位,支持格式: '100%', '300px', '300rpx')\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"100%\"\r\n\t\t\t},\r\n\t\t\theight: { // 高度 (需带单位,支持格式: '100%', '300px', '300rpx')\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"225px\"\r\n\t\t\t},\r\n\t\t\tmescroll: { // mescroll对象,APP端下拉刷新时显示封面,隐藏视频.缓解APP端视频下拉悬浮错位问题\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowVideo: this.autoplay // 是否播放视频\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 是否下拉中 (下拉隐藏视频,显示封面, 仅APP端生效)\r\n\t\t\tmescrollDownLoad() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\treturn this.mescroll.downLoadType\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\treturn false\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tautoplay(val) {\r\n\t\t\t\tif(val) this.play()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 播放\r\n\t\t\tplay(){\r\n\t\t\t\tthis.showVideo = true\r\n\t\t\t\tthis.wxAutoPlay()\r\n\t\t\t},\r\n\t\t\t// 视频点击事件\r\n\t\t\tvideoClick(){\r\n\t\t\t\t// 全屏播放时，点击视频退出\r\n\t\t\t\tif(this.fullplay) this.showVideo = false\r\n\t\t\t},\r\n\t\t\t// 解决微信端视频无法自动播放的问题\r\n\t\t\twxAutoPlay(){\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// 微信端\r\n\t\t\t\tif(navigator.userAgent.toLowerCase().match(/MicroMessenger/i) == 'micromessenger'){\r\n\t\t\t\t\t// iOS\r\n\t\t\t\t\tlet head = document.getElementsByTagName(\"head\")[0]\r\n\t\t\t\t\tlet wxscript = document.createElement(\"script\");\r\n\t\t\t\t\twxscript.type = \"text/javascript\"\r\n\t\t\t\t\twxscript.src = \"https://res.wx.qq.com/open/js/jweixin-1.6.0.js\"\r\n\t\t\t\t\thead.appendChild(wxscript)\r\n\t\t\t\t\tlet vm = this\r\n\t\t\t\t\tlet doPlay = function(){\r\n\t\t\t\t\t\tvm.$refs.videoRef && vm.$refs.videoRef.play()\r\n\t\t\t\t\t}\r\n\t\t\t\t\twxscript.onload = function(){\r\n\t\t\t\t\t\twindow.wx.config({\r\n\t\t\t\t\t\t\tdebug: !1,\r\n\t\t\t\t\t\t\tappId: \"\",\r\n\t\t\t\t\t\t\ttimestamp: 1,\r\n\t\t\t\t\t\t\tnonceStr: \"\",\r\n\t\t\t\t\t\t\tsignature: \"\",\r\n\t\t\t\t\t\t\tjsApiList: []\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\twindow.wx.ready(doPlay)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Android\r\n\t\t\t\t\tdocument.addEventListener(\"WeixinJSBridgeReady\", doPlay, false);\r\n\t\t\t\t\t// 先尝试播放\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tdoPlay()\r\n\t\t\t\t\t},20)\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.me-video{\r\n\t\tposition: relative;\r\n\t\tbackground-color: #000;\r\n\t\toverflow: hidden;\r\n\t\t// 播放按钮\r\n\t\t.btn-play{\r\n\t\t\tz-index: 9;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 50%;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground-color: rgba(0,0,0,.75);\r\n\t\t\tpointer-events: none;\r\n\t\t\t.triangle{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translate(-25%, -50%);\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tborder-top: 16rpx solid transparent;\r\n\t\t\t\tborder-left: 24rpx solid #fff;\r\n\t\t\t\tborder-bottom: 16rpx solid transparent;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 封面图\r\n\t\t.poster{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tvertical-align: bottom;\r\n\t\t}\r\n\t\t// 视频 (默认非全屏播放)\r\n\t\t.video{\r\n\t\t\tz-index: 8;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\t// 全屏播放\r\n\t\t\t&.full-play{\r\n\t\t\t\tz-index: 999;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t}\r\n\t\t\t// 下拉时隐藏视频\r\n\t\t\t&.mescroll-dowload{\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me-video.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./me-video.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}
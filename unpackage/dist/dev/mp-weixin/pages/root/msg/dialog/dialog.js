(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/root/msg/dialog/dialog"],{183:
/*!*************************************************************************************************************!*\
  !*** D:/Users/Ryan/Documents/HBuilderProjects/team/main.js?{"page":"pages%2Froot%2Fmsg%2Fdialog%2Fdialog"} ***!
  \*************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){i(/*! uni-pages */4);n(i(/*! vue */2));var e=n(i(/*! ./pages/root/msg/dialog/dialog.vue */184));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},184:
/*!**************************************************************************************!*\
  !*** D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue ***!
  \**************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./dialog.vue?vue&type=template&id=593f5bad& */185),s=i(/*! ./dialog.vue?vue&type=script&lang=js& */187);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);i(/*! ./dialog.vue?vue&type=style&index=0&lang=scss& */189);var l,a=i(/*! ../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */12),o=Object(a["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],l);o.options.__file="pages/root/msg/dialog/dialog.vue",e["default"]=o.exports},185:
/*!*********************************************************************************************************************!*\
  !*** D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=template&id=593f5bad& ***!
  \*********************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dialog.vue?vue&type=template&id=593f5bad& */186);i.d(e,"render",(function(){return n["render"]})),i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(e,"components",(function(){return n["components"]}))},186:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=template&id=593f5bad& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";var n;i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return l})),i.d(e,"recyclableRender",(function(){return r})),i.d(e,"components",(function(){return n}));try{n={uToast:function(){return i.e(/*! import() | uview-ui/components/u-toast/u-toast */"uview-ui/components/u-toast/u-toast").then(i.bind(null,/*! @/uview-ui/components/u-toast/u-toast.vue */207))},uNavbar:function(){return i.e(/*! import() | uview-ui/components/u-navbar/u-navbar */"uview-ui/components/u-navbar/u-navbar").then(i.bind(null,/*! @/uview-ui/components/u-navbar/u-navbar.vue */306))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var s=function(){var t=this,e=t.$createElement;t._self._c},r=!1,l=[];s._withStripped=!0},187:
/*!***************************************************************************************************************!*\
  !*** D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dialog.vue?vue&type=script&lang=js& */188),s=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},188:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(/*! ./node_modules/@babel/runtime/regenerator */21));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,s,r,l){try{var a=t[r](l),o=a.value}catch(u){return void i(u)}a.done?e(o):Promise.resolve(o).then(n,s)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(n,s){var l=t.apply(e,i);function a(t){r(l,n,s,a,o,"next",t)}function o(t){r(l,n,s,a,o,"throw",t)}a(void 0)}))}}var a={data:function(){return{userId:-1,app:{},durationPullDownRefresh:400,refresh_status:!1,info:{},background:{background:"url(https://stea.ryanalexander.cn/navbar/22.jpg) no-repeat",backgroundSize:"100% 100%"},color:{color:"#f5f5f5"},textMsg:"",isHistoryLoading:!1,scrollAnimation:!1,scrollTop:0,scrollToView:"",msgList:[],msgImgList:[],myuid:0,RECORDER:t.getRecorderManager(),isVoice:!1,voiceTis:"按住 说话",recordTis:"手指上滑 取消发送",recording:!1,willStop:!1,initPoint:{identifier:0,Y:0},recordTimer:null,recordLength:0,AUDIO:t.createInnerAudioContext(),playMsgid:null,VoiceTimer:null,popupLayerClass:"",hideMore:!0,hideEmoji:!0,emojiList:[[{url:"100.gif",alt:"[微笑]"},{url:"101.gif",alt:"[伤心]"},{url:"102.gif",alt:"[美女]"},{url:"103.gif",alt:"[发呆]"},{url:"104.gif",alt:"[墨镜]"},{url:"105.gif",alt:"[哭]"},{url:"106.gif",alt:"[羞]"},{url:"107.gif",alt:"[哑]"},{url:"108.gif",alt:"[睡]"},{url:"109.gif",alt:"[哭]"},{url:"110.gif",alt:"[囧]"},{url:"111.gif",alt:"[怒]"},{url:"112.gif",alt:"[调皮]"},{url:"113.gif",alt:"[笑]"},{url:"114.gif",alt:"[惊讶]"},{url:"115.gif",alt:"[难过]"},{url:"116.gif",alt:"[酷]"},{url:"117.gif",alt:"[汗]"},{url:"118.gif",alt:"[抓狂]"},{url:"119.gif",alt:"[吐]"},{url:"120.gif",alt:"[笑]"},{url:"121.gif",alt:"[快乐]"},{url:"122.gif",alt:"[奇]"},{url:"123.gif",alt:"[傲]"}],[{url:"124.gif",alt:"[饿]"},{url:"125.gif",alt:"[累]"},{url:"126.gif",alt:"[吓]"},{url:"127.gif",alt:"[汗]"},{url:"128.gif",alt:"[高兴]"},{url:"129.gif",alt:"[闲]"},{url:"130.gif",alt:"[努力]"},{url:"131.gif",alt:"[骂]"},{url:"132.gif",alt:"[疑问]"},{url:"133.gif",alt:"[秘密]"},{url:"134.gif",alt:"[乱]"},{url:"135.gif",alt:"[疯]"},{url:"136.gif",alt:"[哀]"},{url:"137.gif",alt:"[鬼]"},{url:"138.gif",alt:"[打击]"},{url:"139.gif",alt:"[bye]"},{url:"140.gif",alt:"[汗]"},{url:"141.gif",alt:"[抠]"},{url:"142.gif",alt:"[鼓掌]"},{url:"143.gif",alt:"[糟糕]"},{url:"144.gif",alt:"[恶搞]"},{url:"145.gif",alt:"[什么]"},{url:"146.gif",alt:"[什么]"},{url:"147.gif",alt:"[累]"}],[{url:"148.gif",alt:"[看]"},{url:"149.gif",alt:"[难过]"},{url:"150.gif",alt:"[难过]"},{url:"151.gif",alt:"[坏]"},{url:"152.gif",alt:"[亲]"},{url:"153.gif",alt:"[吓]"},{url:"154.gif",alt:"[可怜]"},{url:"155.gif",alt:"[刀]"},{url:"156.gif",alt:"[水果]"},{url:"157.gif",alt:"[酒]"},{url:"158.gif",alt:"[篮球]"},{url:"159.gif",alt:"[乒乓]"},{url:"160.gif",alt:"[咖啡]"},{url:"161.gif",alt:"[美食]"},{url:"162.gif",alt:"[动物]"},{url:"163.gif",alt:"[鲜花]"},{url:"164.gif",alt:"[枯]"},{url:"165.gif",alt:"[唇]"},{url:"166.gif",alt:"[爱]"},{url:"167.gif",alt:"[分手]"},{url:"168.gif",alt:"[生日]"},{url:"169.gif",alt:"[电]"},{url:"170.gif",alt:"[炸弹]"},{url:"171.gif",alt:"[刀子]"}],[{url:"172.gif",alt:"[足球]"},{url:"173.gif",alt:"[瓢虫]"},{url:"174.gif",alt:"[翔]"},{url:"175.gif",alt:"[月亮]"},{url:"176.gif",alt:"[太阳]"},{url:"177.gif",alt:"[礼物]"},{url:"178.gif",alt:"[抱抱]"},{url:"179.gif",alt:"[拇指]"},{url:"180.gif",alt:"[贬低]"},{url:"181.gif",alt:"[握手]"},{url:"182.gif",alt:"[剪刀手]"},{url:"183.gif",alt:"[抱拳]"},{url:"184.gif",alt:"[勾引]"},{url:"185.gif",alt:"[拳头]"},{url:"186.gif",alt:"[小拇指]"},{url:"187.gif",alt:"[拇指八]"},{url:"188.gif",alt:"[食指]"},{url:"189.gif",alt:"[ok]"},{url:"190.gif",alt:"[情侣]"},{url:"191.gif",alt:"[爱心]"},{url:"192.gif",alt:"[蹦哒]"},{url:"193.gif",alt:"[颤抖]"},{url:"194.gif",alt:"[怄气]"},{url:"195.gif",alt:"[跳舞]"}],[{url:"196.gif",alt:"[发呆]"},{url:"197.gif",alt:"[背着]"},{url:"198.gif",alt:"[伸手]"},{url:"199.gif",alt:"[耍帅]"},{url:"200.png",alt:"[微笑]"},{url:"201.png",alt:"[生病]"},{url:"202.png",alt:"[哭泣]"},{url:"203.png",alt:"[吐舌]"},{url:"204.png",alt:"[迷糊]"},{url:"205.png",alt:"[瞪眼]"},{url:"206.png",alt:"[恐怖]"},{url:"207.png",alt:"[忧愁]"},{url:"208.png",alt:"[眨眉]"},{url:"209.png",alt:"[闭眼]"},{url:"210.png",alt:"[鄙视]"},{url:"211.png",alt:"[阴暗]"},{url:"212.png",alt:"[小鬼]"},{url:"213.png",alt:"[礼物]"},{url:"214.png",alt:"[拜佛]"},{url:"215.png",alt:"[力量]"},{url:"216.png",alt:"[金钱]"},{url:"217.png",alt:"[蛋糕]"},{url:"218.png",alt:"[彩带]"},{url:"219.png",alt:"[礼物]"}]]}},onLoad:function(t){var e=this;this.userId=t.userId,this.info=getApp().globalData.info,this.getMsgList(),this.AUDIO.onEnded((function(t){e.playMsgid=null})),this.RECORDER.onStart((function(t){e.recordBegin(t)})),this.RECORDER.onStop((function(t){e.recordEnd(t)}))},onShow:function(){this.scrollTop=9999999},methods:{navigate:function(){t.navigateTo({url:"/pages/root/me/me_external/me_external?userId="+this.userId,success:function(t){},fail:function(){},complete:function(){}})},setHint:function(t){this.$refs.uToast.show({title:t,duration:this.durationPullDownRefresh})},screenMsg:function(e){var i=this;if(1==e.type)switch(e.msg.type){case 0:this.addSystemTextMsg(e);break}else if(0==e.type){switch(e.msg.type){case 0:this.addTextMsg(e);break;case 1:this.addImgMsg(e);break;case 2:this.addVoiceMsg(e);break}console.log("用户消息"),e.msg.userinfo.uid!=this.myuid&&(console.log("振动"),t.vibrateLong())}this.$nextTick((function(){i.scrollToView="msg"+e.msg.id}))},getHistory:function(){return new Promise((function(t,e){setTimeout((function(){var t=[{type:0,msg:{id:1,type:0,time:"12:56",userinfo:{uid:0,username:"大黑哥",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (2).jpg"},content:{text:"为什么温度会相差那么大？"}}},{type:0,msg:{id:2,type:0,time:"12:57",userinfo:{uid:1,username:"售后客服008",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (1).jpg"},content:{text:"这个是有偏差的，两个温度相差十几二十度是很正常的，如果相差五十度，那即是质量问题了。"}}},{type:0,msg:{id:3,type:2,time:"12:59",userinfo:{uid:1,username:"售后客服008",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (1).jpg"},content:{url:"/static/voice/1.mp3",length:"00:06"}}},{type:0,msg:{id:4,type:2,time:"13:05",userinfo:{uid:0,username:"大黑哥",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (2).jpg"},content:{url:"/static/voice/1.mp3",length:"00:06"}}}];e(t)}),1e3)}))},loadHistory:function(t){var e=this;return l(n.default.mark((function t(){var i,s,r;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isHistoryLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isHistoryLoading=!0,e.scrollAnimation=!1,i=e.msgList[0].msg.id,t.prev=5,t.next=8,e.getHistory();case 8:for(s=t.sent,r=0;r<s.length;r++)"user"==s[r].type&&"img"==s[r].msg.type&&(s[r].msg.content=e.setPicSize(s[r].msg.content),e.msgImgList.unshift(s[r].msg.content.url)),s[r].msg.id=Math.floor(1e3*Math.random()+1),e.msgList.unshift(s[r]);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0),e.setHint("没有别的消息啦");case 16:return t.prev=16,e.scrollAnimation=!0,setTimeout((function(){e.scrollToView="msg"+i}),e.durationPullDownRefresh),e.scrollToView="",e.isHistoryLoading=!1,t.finish(16);case 22:case"end":return t.stop()}}),t,null,[[5,12,16,22]])})))()},getMsgList:function(){for(var t=this,e=[{type:1,msg:{id:0,type:"text",content:{text:"欢迎进入HM-chat聊天室"}}},{type:0,msg:{id:1,type:"text",time:"12:56",userinfo:{uid:0,username:"大黑哥",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (1).jpg"},content:{text:"为什么温度会相差那么大？"}}},{type:0,msg:{id:2,type:"text",time:"12:57",userinfo:{uid:1,username:"售后客服008",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (2).jpg"},content:{text:"这个是有偏差的，两个温度相差十几二十度是很正常的，如果相差五十度，那即是质量问题了。"}}},{type:0,msg:{id:3,type:"voice",time:"12:59",userinfo:{uid:1,username:"售后客服008",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (2).jpg"},content:{url:"/static/voice/1.mp3",length:"00:06"}}},{type:0,msg:{id:4,type:"voice",time:"13:05",userinfo:{uid:0,username:"大黑哥",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (1).jpg"},content:{url:"/static/voice/1.mp3",length:"00:06"}}},{type:0,msg:{id:5,type:"img",time:"13:05",userinfo:{uid:0,username:"大黑哥",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (1).jpg"},content:{url:"https://stea.ryanalexander.cn/navbar/11.jpg",w:200,h:200}}},{type:0,msg:{id:6,type:"img",time:"12:59",userinfo:{uid:1,username:"售后客服008",face:"https://lets-team--public.oss-cn-hangzhou.aliyuncs.com/user/alias/alias (2).jpg"},content:{url:"https://stea.ryanalexander.cn/navbar/22.jpg",w:1920,h:1080}}},{type:1,msg:{id:7,type:"text",content:{text:"欢迎进入HM-chat聊天室"}}}],i=0;i<e.length;i++)"user"==e[i].type&&"img"==e[i].msg.type&&(e[i].msg.content=this.setPicSize(e[i].msg.content),this.msgImgList.push(e[i].msg.content.url));this.msgList=e,this.$nextTick((function(){t.scrollTop=9999,t.$nextTick((function(){t.scrollAnimation=!0}))}))},setPicSize:function(e){var i=t.upx2px(350),n=t.upx2px(350);if(e.w>i||e.h>n){var s=e.w/e.h;e.w=s>1?i:n*s,e.h=s>1?i/s:n}return e},showMore:function(){this.isVoice=!1,this.hideEmoji=!0,this.hideMore?(this.hideMore=!1,this.openDrawer()):this.hideDrawer()},openDrawer:function(){this.popupLayerClass="showLayer"},hideDrawer:function(){var t=this;this.popupLayerClass="",setTimeout((function(){t.hideMore=!0,t.hideEmoji=!0}),150)},chooseImage:function(){this.getImage("album")},camera:function(){this.getImage("camera")},getImage:function(e){var i=this;this.hideDrawer(),t.chooseImage({sourceType:[e],sizeType:["original","compressed"],success:function(e){for(var n=function(n){t.getImageInfo({src:e.tempFilePaths[n],success:function(t){console.log(t.width),console.log(t.height);var s={url:e.tempFilePaths[n],w:t.width,h:t.height};i.sendMsg(s,"img")}})},s=0;s<e.tempFilePaths.length;s++)n(s)}})},chooseEmoji:function(){this.hideMore=!0,this.hideEmoji?(this.hideEmoji=!1,this.openDrawer()):this.hideDrawer()},addEmoji:function(t){this.textMsg+=t.alt},textareaFocus:function(){"showLayer"==this.popupLayerClass&&0==this.hideMore&&this.hideDrawer()},sendText:function(){if(this.hideDrawer(),this.textMsg){var t=this.replaceEmoji(this.textMsg),e={text:t};this.sendMsg(e,"text"),this.textMsg=""}},replaceEmoji:function(t){var e=this,i=t.replace(/\[([^(\]|\[)]*)\]/g,(function(t,i){console.log("item: "+t);for(var n=0;n<e.emojiList.length;n++)for(var s=e.emojiList[n],r=0;r<s.length;r++){var l=s[r];if(l.alt==t){var a="https://stea.ryanalexander.cn/im/",o='<img src="'+a+l.url+'">';return console.log("imgstr: "+o),o}}}));return'<div style="display: flex;align-items: center;word-wrap:break-word;">'+i+"</div>"},sendMsg:function(e,i){var n=this,s=new Date,r=this.msgList[this.msgList.length-1].msg.id;r++;var l={type:"user",msg:{id:r,time:s.getHours()+":"+s.getMinutes(),type:i,userinfo:{uid:0,username:"大黑哥",face:"/static/img/face.jpg"},content:e}};this.screenMsg(l),t.request({method:"post",url:this.app.url+"/message",data:{receiverUserId:t.getStorageSync("i"),contentType:100,content:"Hello"},header:this.app.genHeader(this.app.token.a,""),success:function(t){console.log(t)},fail:function(t){console.log(t)}}),setTimeout((function(){r=n.msgList[n.msgList.length-1].msg.id,r++,l={type:"user",msg:{id:r,time:s.getHours()+":"+s.getMinutes(),type:i,userinfo:{uid:1,username:"售后客服008",face:"/static/img/im/face/face_2.jpg"},content:e}},n.screenMsg(l)}),3e3)},addTextMsg:function(t){this.msgList.push(t)},addVoiceMsg:function(t){this.msgList.push(t)},addImgMsg:function(t){t.msg.content=this.setPicSize(t.msg.content),this.msgImgList.push(t.msg.content.url),this.msgList.push(t)},addSystemTextMsg:function(t){this.msgList.push(t)},sendSystemMsg:function(t,e){var i=this.msgList[this.msgList.length-1].msg.id;i++;var n={type:1,msg:{id:i,type:e,content:t}};this.screenMsg(n)},toDetails:function(e){t.navigateTo({url:"HM-details/HM-details?rid="+e})},showPic:function(e){t.previewImage({indicator:"none",current:e.content.url,urls:this.msgImgList})},playVoice:function(t){var e=this;this.playMsgid=t.id,this.AUDIO.src=t.content.url,this.$nextTick((function(){e.AUDIO.play()}))},voiceBegin:function(t){t.touches.length>1||(this.initPoint.Y=t.touches[0].clientY,this.initPoint.identifier=t.touches[0].identifier,this.RECORDER.start({format:"mp3"}))},recordBegin:function(t){var e=this;this.recording=!0,this.voiceTis="松开 结束",this.recordLength=0,this.recordTimer=setInterval((function(){e.recordLength++}),1e3)},voiceCancel:function(){this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.willStop=!0,this.RECORDER.stop()},voiceIng:function(e){if(this.recording){var i=e.touches[0];this.initPoint.Y-i.clientY>=t.upx2px(100)?(this.willStop=!0,this.recordTis="松开手指 取消发送"):(this.willStop=!1,this.recordTis="手指上滑 取消发送")}},voiceEnd:function(t){this.recording&&(this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.RECORDER.stop())},recordEnd:function(t){if(clearInterval(this.recordTimer),this.willStop)console.log("取消发送录音");else{console.log("e: "+JSON.stringify(t));var e={length:0,url:t.tempFilePath},i=parseInt(this.recordLength/60),n=this.recordLength%60;i=i<10?"0"+i:i,n=n<10?"0"+n:n,e.length=i+":"+n,this.sendMsg(e,"voice")}this.willStop=!1},switchVoice:function(){this.hideDrawer(),this.isVoice=!this.isVoice},discard:function(){}}};e.default=a}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},189:
/*!************************************************************************************************************************!*\
  !*** D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dialog.vue?vue&type=style&index=0&lang=scss& */190),s=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},190:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Users/Ryan/Documents/HBuilderProjects/team/pages/root/msg/dialog/dialog.vue?vue&type=style&index=0&lang=scss& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[183,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/root/msg/dialog/dialog.js.map